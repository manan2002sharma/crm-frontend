{"ast":null,"code":"import { fetchTicketLoading, fetchTicketSuccess, fetchTicketFail, searchTickets, fetchSingleTicketLoading, fetchSingleTicketSuccess, fetchSingleTicketFail, replyTicketLoading, replyTicketSuccess, replyTicketFail, closeTicketLoading, closeTicketSuccess, closeTicketFail } from \"./ticketsSlice\";\nimport { getAllTickets, getSingleTicket, updateReplyTicket, updateTicketStatusClosed } from \"../../api/ticketApi\";\nexport const fetchAllTickets = () => async dispatch => {\n  dispatch(fetchTicketLoading());\n\n  try {\n    const result = await getAllTickets();\n    dispatch(fetchTicketSuccess(result.data.result));\n  } catch (error) {\n    dispatch(fetchTicketFail(error.message));\n  }\n};\nexport const filterSerachTicket = str => dispatch => {\n  dispatch(searchTickets(str));\n}; //Actions for single ticket only\n\nexport const fetchSingleTicket = _id => async dispatch => {\n  dispatch(fetchSingleTicketLoading());\n\n  try {\n    const result = await getSingleTicket(_id);\n    dispatch(fetchSingleTicketSuccess(result.data.result.length && result.data.result[0]));\n  } catch (error) {\n    dispatch(fetchSingleTicketFail(error.message));\n  }\n}; //Actions for replying on single ticket\n\nexport const replyOnTicket = (_id, msgObj) => async dispatch => {\n  dispatch(replyTicketLoading());\n\n  try {\n    const result = await updateReplyTicket(_id, msgObj);\n    console.log(result);\n\n    if (result.status === \"error\") {\n      return dispatch(replyTicketFail(result.message));\n    }\n\n    dispatch(fetchSingleTicket(_id));\n    dispatch(replyTicketSuccess(result.message));\n  } catch (error) {\n    console.log(error.message);\n    dispatch(replyTicketFail(error.message));\n  }\n}; //Actions for closing ticket\n\nexport const closeTicket = _id => async dispatch => {\n  dispatch(closeTicketLoading());\n\n  try {\n    const result = await updateTicketStatusClosed(_id);\n\n    if (result.status === \"error\") {\n      return dispatch(closeTicketFail(result.message));\n    }\n\n    dispatch(fetchSingleTicket(_id));\n    dispatch(closeTicketSuccess(\"Status Updated successfully\"));\n  } catch (error) {\n    console.log(error.message);\n    dispatch(closeTicketFail(error.message));\n  }\n};","map":{"version":3,"sources":["C:/Users/Man/Downloads/Compressed/crm-ticket/crm-frontend-8674e752f8218131abd459f664a565932ab1519e/src/pages/ticket-list/ticketsAction.js"],"names":["fetchTicketLoading","fetchTicketSuccess","fetchTicketFail","searchTickets","fetchSingleTicketLoading","fetchSingleTicketSuccess","fetchSingleTicketFail","replyTicketLoading","replyTicketSuccess","replyTicketFail","closeTicketLoading","closeTicketSuccess","closeTicketFail","getAllTickets","getSingleTicket","updateReplyTicket","updateTicketStatusClosed","fetchAllTickets","dispatch","result","data","error","message","filterSerachTicket","str","fetchSingleTicket","_id","length","replyOnTicket","msgObj","console","log","status","closeTicket"],"mappings":"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","sourcesContent":["import {\n  fetchTicketLoading,\n  fetchTicketSuccess,\n  fetchTicketFail,\n  searchTickets,\n  fetchSingleTicketLoading,\n  fetchSingleTicketSuccess,\n  fetchSingleTicketFail,\n  replyTicketLoading,\n  replyTicketSuccess,\n  replyTicketFail,\n  closeTicketLoading,\n  closeTicketSuccess,\n  closeTicketFail,\n} from \"./ticketsSlice\";\n\nimport {\n  getAllTickets,\n  getSingleTicket,\n  updateReplyTicket,\n  updateTicketStatusClosed,\n} from \"../../api/ticketApi\";\n\nexport const fetchAllTickets = () => async (dispatch) => {\n  dispatch(fetchTicketLoading());\n  try {\n    const result = await getAllTickets();\n    dispatch(fetchTicketSuccess(result.data.result));\n  } catch (error) {\n    dispatch(fetchTicketFail(error.message));\n  }\n};\n\nexport const filterSerachTicket = (str) => (dispatch) => {\n  dispatch(searchTickets(str));\n};\n\n//Actions for single ticket only\nexport const fetchSingleTicket = (_id) => async (dispatch) => {\n  dispatch(fetchSingleTicketLoading());\n  try {\n    const result = await getSingleTicket(_id);\n    dispatch(\n      fetchSingleTicketSuccess(\n        result.data.result.length && result.data.result[0]\n      )\n    );\n  } catch (error) {\n    dispatch(fetchSingleTicketFail(error.message));\n  }\n};\n\n//Actions for replying on single ticket\nexport const replyOnTicket = (_id, msgObj) => async (dispatch) => {\n  dispatch(replyTicketLoading());\n  try {\n    const result = await updateReplyTicket(_id, msgObj);\n    console.log(result);\n    if (result.status === \"error\") {\n      return dispatch(replyTicketFail(result.message));\n    }\n\n    dispatch(fetchSingleTicket(_id));\n\n    dispatch(replyTicketSuccess(result.message));\n  } catch (error) {\n    console.log(error.message);\n    dispatch(replyTicketFail(error.message));\n  }\n};\n//Actions for closing ticket\nexport const closeTicket = (_id) => async (dispatch) => {\n  dispatch(closeTicketLoading());\n  try {\n    const result = await updateTicketStatusClosed(_id);\n    if (result.status === \"error\") {\n      return dispatch(closeTicketFail(result.message));\n    }\n\n    dispatch(fetchSingleTicket(_id));\n\n    dispatch(closeTicketSuccess(\"Status Updated successfully\"));\n  } catch (error) {\n    console.log(error.message);\n    dispatch(closeTicketFail(error.message));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}